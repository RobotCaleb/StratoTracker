// Generated by CoffeeScript 1.3.3
(function() {
  var error, locationCallback, uploadData;

  $(document).ready(function() {
    if (navigator.geolocation) {
      navigator.geolocation.getCurrentPosition(locationCallback, error, {
        maximumAge: 300000
      });
    }
    return $('#submitButton').click(uploadData);
  });

  locationCallback = function(position) {
    $('#lat').val(position.coords.latitude);
    return $('#lon').val(position.coords.longitude);
  };

  error = function(msg) {
    return console.log(msg);
  };

  uploadData = function() {
    return document.forms['uploadform'].submit();
  };

}).call(this);
